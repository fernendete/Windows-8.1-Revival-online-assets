<app name="amazon" color="#232f3e">
  <manifest>
    <Icon Source="https://i.redd.it/d4n0a94pr5xd1.jpeg"/>
    <Publisher>Amazon Inc.</Publisher>

    <Script><![CDATA[
      function searchAmazon(query) {
        const results = document.getElementById("results-container");
        results.innerHTML = `<p>Resultados para "<strong>${query}</strong>"...</p>`;
        Me.Frame.Navigate("search");
      }

      function addToCart() {
        notify("amazon", "Producto aÃ±adido al carrito!");
      }

      function checkout() {
        alert("Gracias por comprar en Amazon!");
      }
    ]]></Script>

    <Stylesheet><![CDATA[
      .screen {
        background-color: #232f3e;
        color: #fff;
      }

      .serious-header {
        font-size: 24px;
        font-weight: bold;
        padding: 16px;
        background-color: #37475a;
        text-align: center;
      }

      #scroll {
        padding: 16px;
      }

      .category-bt {
        background-color: #ff9900;
        color: black;
        padding: 10px 16px;
        margin: 8px 0;
        border-radius: 4px;
        cursor: pointer;
      }

      .category-bt:hover {
        background-color: #e68a00;
      }

      button {
        background-color: #ff9900;
        border: none;
        padding: 10px 16px;
        margin-top: 16px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }

      button:hover {
        background-color: #e68a00;
      }

      input[type="text"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 12px;
        border: none;
        border-radius: 4px;
        font-size: 16px;
      }

      .loader {
        width: 40px;
        height: 40px;
        border: 4px solid #ff9900;
        border-top: 4px solid transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 20px auto;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    ]]></Stylesheet>
  </manifest>

  <overlay>
    <div id="search">
      <input type="text" id="search-input" placeholder="Buscar en Amazon"
             onkeypress="if(event.key==='Enter') searchAmazon(this.value)">
      <div id="search-results"></div>
    </div>
    <div class="loader" id="loading"></div>
  </overlay>

  <screen name="_main_">
    <div class="app-header">Amazon Portal</div>
    <div id="scroll">
      <div id="featured-products"></div>
      <div id="categories">
        <div class="category-bt" onclick="searchAmazon('Electronics')">Electronics</div>
        <div class="category-bt" onclick="searchAmazon('Books')">Books</div>
        <div class="category-bt" onclick="searchAmazon('Fashion')">Fashion</div>
        <div class="category-bt" onclick="searchAmazon('Toys')">Toys &amp; Games</div>
      </div>
    </div>

    <AppBar edge="bottom" visible="true" isSticky="true" transition="slide"
            style="background:#37475a;color:#fff;border-top:1px solid #ff9900;">
      <Button onclick="Me.Frame.Navigate('cart')">
        <Icon Source="https://cdn-icons-png.flaticon.com/512/1170/1170678.png"/>
        <Label>ðŸ›’ Ver carrito</Label>
      </Button>
      <Button onclick="searchAmazon('Ofertas')">
        <Icon Source="https://cdn-icons-png.flaticon.com/512/709/709496.png"/>
        <Label>ðŸ”¥ Ofertas</Label>
      </Button>
    </AppBar>
  </screen>

  <screen name="search">
    <div class="serious-header" id="results-header">Resultados de bÃºsqueda</div>
    <div id="results-container" style="padding:16px;"></div>
  </screen>

  <screen name="product">
    <div id="scroll">
      <h1 id="product-name">Producto</h1>
      <p id="product-desc">DescripciÃ³n</p>
      <p id="product-price">$??</p>
      <button onclick="addToCart()">ðŸ›’ AÃ±adir al carrito</button>
    </div>
  </screen>

  <screen name="cart">
    <div class="serious-header">Tu carrito</div>
    <div id="cart-items-container" style="padding:16px;"></div>
    <button onclick="checkout()">Finalizar compra</button>
  </screen>
</app>