<app name="Freshpaint" color="#fafafa">
  <manifest>
    <Icon Source="https://www.chip.de/ii/1/8/7/2/6/5/2/5/fresh_paint_icon-45c09013746272ba.png"/>
    <Stylesheet><![CDATA[
      .paint-zone {
        width: 100%;
        height: 400px;
        border: 2px dashed #ccc;
        background: #fff;
      }
      #tools {
        position: absolute;
        left: 50%;
        bottom: 50px;
        transform: translateX(-50%)
      }
      .tools {
        display: flex;
        justify-content: space-around;
        padding: 12px;
      }

      .tool {
        background: #eee;
        padding: 10px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        color: #000;
      }

      #oooh {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        touch-action: none; /* para gestos tÃ¡ctiles */
        z-index: -1; /* opcional, si querÃ©s que estÃ© detrÃ¡s de otros elementos */
      }
    ]]></Stylesheet>
    <Script><![CDATA[
      const app = document.querySelector('#apps-box #Freshpaint');
      const colors = ['#ff4b4b', '#4bdcff', '#a2ff4b'];
      let index = 0;

      const canvas = document.querySelector("#oooh");
      const ctx = canvas.getContext("2d");
      ctx.fillStyle = "black";

      canvas.addEventListener("touchmove", (e) => {
        e.preventDefault();
        for (let touch of e.touches) {
          const x = touch.clientX;
          const y = touch.clientY;
          ctx.beginPath();
          ctx.arc(x, y, 12, 0, Math.PI * 2);
          ctx.fill();
        }
      });
      canvas.addEventListener("mousedown", (e) => {
        function HandleMove(e) {
        } 
        canvas.removeEventListener("mousemouve.Paint").addEventListener("mousemouve.Paint", (e) => {
          e.preventDefault();
          for (let touch of e.touches) {
            const x = touch.clientX;
            const y = touch.clientY;
            ctx.beginPath();
            ctx.arc(x, y, 12, 0, Math.PI * 2);
            ctx.fill();
          }
        })
        canvas.removeEventListener("mouseup.Paint").addEventListener("mouseup.Paint", (e) => {
          canvas.removeEventListener("mousemove.Paint")
          canvas.removeEventListener("mouseup.Paint")
        })

      })
    ]]></Script>
  </manifest>

  <liveTiles>
    <state onlyInSize="wide">
      <div style="padding:10px;font-size:14px;">ğŸ¨ Freshpaint listo para crear</div>
    </state>
  </liveTiles>

  <screen name="_main_">
    <canvas id="oooh"></canvas>
    <div style="padding-top:150px;">
      <div class="tools">
        <div class="tool">Pincel</div>
        <div class="tool">Color</div>
        <div class="tool">Guardar</div>
      </div>
    </div>
  </screen>
</app>